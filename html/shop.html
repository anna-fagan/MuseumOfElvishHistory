<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Anna Fagan">
    <meta name="robots" content="noindex, nofollow">
    <link href="../css/style.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <title>Museum of Elvish History Souvenir Shop</title>
  <style>
    .shop-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      padding-top: 20px;
    }

    .souvenir-item {
      width: 250px;
      background-color: #c9d8cc;
      border: 2px solid #2f3e46;
      padding: 10px;
      border-radius: 6px;
      position: relative;
    }

    .souvenir-item img {
      width: 100%;
      height: auto;
      cursor: pointer;
    }

    .souvenir-item input[type="checkbox"] {
      margin-right: 8px;
    }

    .souvenir-item button {
      margin-top: 10px;
      width: 100%;
      padding: 8px;
      font-weight: bold;
      background-color: #2f3e46;
      color: #cad2c5;
      border: none;
      cursor: pointer;
    }

    .souvenir-item button:hover {
      background-color: #5d7987;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(202, 210, 197, 0.85);
    }

    .modal-content {
      margin: 10% auto;
      padding: 20px;
      background-color: #cad2c5;
      width: 60%;
      border-radius: 8px;
    }

    .modal-content img {
      width: 100%;
      height: auto;
    }

    .close-modal {
      float: right;
      font-size: 1.2rem;
      cursor: pointer;
      color: #2f3e46;
    }
    .tooltip {
      position: relative;
      display: inline-block;
      border-bottom: 1px dotted black;
      cursor: pointer;
    }

    .tooltiptext {
      visibility: hidden;
      width: 130px;
      background-color: rgba(202, 210, 197);
      color: #2f3e46;
      text-align: center;
      border-radius: 6px;
      padding: 10px;
      position: absolute;
      left: 50px;
      z-index: 1;
    }
    .tooltip:hover .tooltiptext {
      visibility: visible;
    }
  </style>
</head>

<body>
  <header class="header">
    <h1>Souvenir Shop</h1>
    <button onclick="location.href='../index.html'" class="button">Home</button>
    <button onclick="location.href='../html/staff.html'" class="button">Staff</button>
    <button onclick="location.href='../html/collections.html'" class="button">Collections</button>
    <button onclick="location.href='../html/shop.html'" class="button">Shop</button>
    <button onclick="location.href='cart.html'" class="button" id="viewCartBtn">View Cart</button>   
  </header>

  <div class="shop-container">

    <!-- BEGIN SINGLE ITEM BLOCK-->
    <div class="souvenir-item" data-id="echo-disk">
        <div class="tooltip">
          <img src="../images/shop/echo-disk-pendant.jpg" alt="Echo disk pendant" onclick="openModal(this)">
          <span class="tooltiptext">A whisper of the sea’s memory</span>
        </div>
        <h3>Echo Disk Pendant</h3>
        <p>Wear a whisper of the sea’s memory. Inspired by the ancient Resonant Disk of Namarien, 
          this pendant features a basalt composite etched with iridescent shell spirals that 
          shimmer with each movement. Suspended on a fine leather rope and presented on a parchment 
          card inscribed in Elvish runes, it captures the harmony of ocean and song once revered by 
          the coastal elves.</p>
        <p><strong>Price:</strong> $25.60</p>
        <span class="qty-badge" aria-live="polite"></span>
        <button 
          onclick="addToCart(this)"
          data-id="echo-disk"
          data-name="Echo Disk Pendant"
          data-price="25.60"
          data-image="../images/shop/echo-disk-pendant.jpg">
          Add Echo Disk Pendant to Cart
        </button>
    </div>
    <!-- END SINGLE ITEM BLOCK -->
    <div class="souvenir-item" data-id="elven-bangles">
      <div class="tooltip">
        <img src="../images/shop/elven-bangals.jpg" alt="Elven bangles" onclick="openModal(this)">
        <span class="tooltiptext">Echoes from the hands that shaped time</span>
      </div>
      <h3>Elven Memory Bangles</h3>
      <p>Echoes from the hands that shaped time. This trio of silver-plated bangles 
        features translucent glass inlays etched with faint Elvish runes symbolizing memory, 
        renewal, and truth. Elegant, timeless, and softly luminous under light, they evoke the 
        quiet grace of ancient craftsmanship—perfect for those who carry history close to the skin.</p>
      <p><strong>Price:</strong> $15.25</p>
      <span class="qty-badge" aria-live="polite"></span>
      <button 
        onclick="addToCart(this)"
        data-id="elven-bangles"
        data-name="Elven Memory Bangles"
        data-price="15.25"
        data-image="../images/shop/elven-bangals.jpg">
        Add Elven Memory Bengles to Cart
      </button>
    </div>
    <div class="souvenir-item" data-id="mini-chalice">
      <div class="tooltip">
        <img src="../images/shop/minature-luminous-chalice.jpg" alt="A mini luminous chalice" onclick="openModal(this)">
        <span class="tooltiptext">Capture a fragment of moonlit ritual</span>
      </div>
      <h3>Minature Luminous Chalice</h3>
      <p>Capture a fragment of moonlit ritual. This hand-crafted replica of the Luminous 
        Chalice of Lethariel is cast in translucent resin and traced with silver filigree, 
        echoing the radiance of its ancient counterpart. When placed under soft light, it glows 
        with subtle blue hues — a gentle reminder of the Elven rites of remembrance and reflection. 
        Perfect as a keepsake or altar piece for those who honor the quiet beauty of memory.</p>
      <p><strong>Price:</strong> $75.99</p>
      <span class="qty-badge" aria-live="polite"></span>
      <button onclick="addToCart(this)"
        data-id="mini-chalice"
        data-name="Minature Luminous Chalice"
        data-price="75.99"
        data-image="../images/shop/minature-luminous-chalice.jpg">
        Add Miniature Luminous Chalice to Cart
      </button>
    </div>
    <div class="souvenir-item" data-id="moonflower-incense">
      <div class="tooltip">
        <img src="../images/shop/moonflower-incense-holder.jpg" alt="Moonflower incense holder" onclick="openModal(this)">
        <span class="tooltiptext">Let your offerings rise on petals of light</span>
      </div>
      <h3>Moonflower Incense Holder</h3>
      <p>Let your offerings rise on petals of light. Inspired by the sacred blooms of the 
        Elven night gardens, this ceramic incense holder is shaped like a partially opened 
        moonflower, its silver-glazed petals designed to release gentle streams of smoke through 
        delicate openings. Each piece is hand-finished with subtle iridescence, glowing softly in 
        candlelight — a tranquil companion for meditation, remembrance, or ritual.</p>
      <p><strong>Price:</strong> $31.50</p>
      <span class="qty-badge" aria-live="polite"></span>
      <button onclick="addToCart(this)"
        data-id="moonflower-incense"
        data-name="Moonflower Incense Holder"
        data-price="31.50"
        data-image="../images/shop/moonflower-incense-holder.jpg">
        Add Moonflower Incense Holder to Cart
      </button>
    </div>

  </div>
  <div class="footer">
    <p>This is a ficticious website created purely for academic reasons. This site was created by a human.
      The content on this site was concieved by a human and created by AI. The images were created by AI and
      curated, edited, reviewed, verified, calibrated, and augmented by a human.</p>
  </div>
  <script>
    function addToCart(itemId) {
    //this key links the shop to the cart
  }

    const CART_KEY = 'museumCartV1';
    

    // This function reads the Cart information and write it to JSON  
        function readCart() {
          try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
          catch { return []; }
        }
    
        function writeCart(cart) {
          localStorage.setItem(CART_KEY, JSON.stringify(cart));
        }
     
    /*This function is called by the addToCart button the first part reads the dataset contined in the buttons and asssigns the values to variables */
    
        function addToCart(btn) {
          const id = btn.dataset.id;
          const name = btn.dataset.name;
          const unitPrice = Number(btn.dataset.price);
          const image = btn.dataset.image;
    
    /* This part puts all of the individual items and puts them into an object called cart and writes it to LocalStorage   */
    
          let cart = readCart();
          const idx = cart.findIndex(it => it.id === id);
          if (idx >= 0) {
            cart[idx].qty += 1;
          } else {
            cart.push({ id, name, unitPrice, qty: 1, image });
          }
          writeCart(cart);
    
          // Update the item card's qty badge
    
          const card = btn.closest('.souvenir-item');
          if (card) {
            const badge = card.querySelector('.qty-badge');
            if (badge) {
              const item = cart.find(it => it.id === id);
              badge.textContent = item ? `Qty: ${item.qty}` : '';
            }
          }
        }
    

    function openModal(imgElement) {
      const modal = document.getElementById("modal");
      const modalImage = document.getElementById("modal-image");
      modalImage.src = imgElement.src;
      modalImage.alt = imgElement.alt;
      modal.style.display = "block";
    }

    function closeModal() {
      document.getElementById("modal").style.display = "none";
    }

    // Optional: Close modal on outside click
    window.onclick = function(event) {
      const modal = document.getElementById("modal");
      if (event.target === modal) {
        closeModal();
      }
    }

    
  </script>
</body>
</html>